## 43장

### AJAX란 무엇이며 왜 사용하는지 설명하시오.

     Ajax는 JavaScript의 라이브러리중 하나이며 Asynchronous Javascript And Xml(비동기식 자바스크립트와 xml)의 약자입니다. 
     
     전체 페이지를 새로 고치지 않고도 페이지의 일부만을 위한 데이터를 로드하는 기법이다. 
     Ajax를 한마디로 정의하자면 JavaScript를 사용한 비동기 통신, 클라이언트와 서버간에 XML 데이터를 주고받는 기술이라고 할 수 있다.
     
     화면의 내용을 갱신하기 위해서는 request 와 response를 하면서 페이지 전체를 갱신하게 된다. 
     하지만 이렇게 할 경우 페이지의 일부분만 갱신할 경우에도 페이지 전체를 다시 로드해야하는데,
     엄청난 자원낭비와 시간낭비를 초래한다.
     
     ajax는 html 페이지 전체가아닌 일부분만 갱신할수 있도록 한다. 
     이 경우 Json이나 xml형태로 필요한 데이터만 받아 갱신하기 때문에 그만큼의 자원과 시간을 아낄 수 있습니다.
     
###  Ajax 통신의 원리

     AJAX는 XMLHttpRequest라는 객체를 통해서 수행된다.
     웹브라우저와 서버간의 다리를 이 XMLHttpRequest객체가 만들어주고 그 다리를 통해서 우리는 비동기적으로 데이터를 보내고 받을 수 있게      되는 것이다. 
     *이름과는 다르게 XML말고도 TEXT, JSON, JSONP 등 많은 데이터를 처리 할 수 있다.   

###  Ajax 통신의 장점

    - 필요한 데이터만 서버로부터 전송 받아서 효율적이다.
    - 변경할 필요가 없는 부분 재 랜더링X -> 순간적으로 깜박이는 현상 없음
    - 클라이언트와 서버의 통신이 비동기적으로 동작하여 요청을 보낸 후에 블로킹이 발생하지 않는다.

*JQuery: JQuery는 자바스크립트 라이브러리로 간단한 문법으로 AJAX를 사용할 수 있게합니다.

<br>

## 44장

### REST API란 무엇입니까?

    - RESTful API는 두 컴퓨터 시스템 간의 안전한 온라인 정보 교환을 가능하게 합니다. 
    - RESTful API는 어떤 식으로든 REST에 연결되는 API로 알려져 있습니다. 
      모든 데이터는 REST API에서 리소스로 간주되며 정확한 표준 상수 단위(URI)에 의해 결정됩니다.
      
### REST API 설계 예시

     1. URI는 동사보다는 명사를, 대문자보다는 소문자를 사용하여야 한다.
     2. 마지막에 슬래시 (/)를 포함하지 않는다.
     3. 언더바 대신 하이폰을 사용한다.
     4. 파일확장자는 URI에 포함하지 않는다.
     5. 행위를 포함하지 않는다.

### REST의 원칙은 무엇입니까?  

     REST는 Representational State Transfer 의 약어로, 클라이언트과 서버가 데이터를 주고 받는 방식에 대한 아키텍처 스타일이다. 
     REST에는 여섯 가지의 기본 원칙이 있고, 이 가이드를 준수한 인터페이스는 RESTful하다고 표현한다.
     
     1. Client–server 구조 – 클라이언트와 서버는 서로 독립적이어야 하며, 클라이언트는 오직 URIs 리소스만 알아야한다. 클라이언트와 서버의 인터페이스가 변경되지 않는 한, 이 둘은 독립적으로 개발되거나 대체될 수 있게 유지해야한다. (관심사의 명확한 분리)
     
     2. Stateless(무상태성) – 클라이언트의 모든 요청에는 해당 요청을 이해할 수 있는 모든 정보가 포함되어야한다. 서버는 HTTP 요청에 대한 어떤 것도 저장하지 않는다. 컨텍스트를 유지해야하는 세션, 인증과 인가에 대한 정보 또한 클라이언트에만 보관되며, 각 요청 시 해당 정보를 모두 포함하여 서버에 요청한다.
     
     3. Cacheable – 서버는 Response cache-control 헤더에 해당 요청이 캐싱이 가능한 지에 대한 여부를 제공해야 한다. 이를 제공한다면 클라이언트는 Response를 캐싱하여 서버와 클라이언트 간의 상호작용을 줄이고, 성능과 서버 가용성을 늘릴 수 있다.
     
     4. Uniform interface(일관된 인터페이스) – 보편적인 소프트웨어 엔지니어링 원칙을 component interface에 적용하면, 전체적인 시스템 아키텍처는 단순화되고 각 상호작용에 대한 가시성이 개선된다. 이름 그대로 일관된 인터페이스를 얻기 위해 REST에서는 4가지 인터페이스 규칙을 정의하였다.
     
     - identification of resources : 요청 시 개별 자원을 식별할 수 있어야함
     - manipulation of resources through representations : 어떤 자원에 대헤 작업하기 위한 적절한 표현과 메타데이터를 충분히 갖추고 있다면, 서버는 해당 자원을 변경, 삭제할 수 있는 정보를 가지고 있단 의미
     - self-descriptive messages : 자신을 어떻게 처리해야하는지 정보를 포함해야함
     - hypermedia as the engine of application state : 단순히 결과 뿐만이 아니라 결과에 대한 정보를 포함해야 함
     
     5. Layered system(다중 계층) – REST는 다중 계층 구조를 가질 수 있도록 허용한다. (예를 들어 API 서버와 DB서버 그리고 인증 서버를 따로 둘 수 있도록). 그리고 각 레이어는 자기와 통신하는 컴포넌트 외 레이어에 대해서는 정보를 얻을 수 없다. 클라이언트는 REST 서버와만 상호작용할 뿐, REST가 상호작용하는 레이어나 그 외 중간 레이어들, end server에 직접적으로 요청할 수 없으며 이들의 상호작용 또한 볼 수 없다.
     
     6. Code on demand (optional) – 서버가 클라이언트에서 실행시킬 수 있는 로직을 전송하여 클라이언트의 기능을 확장시킬 수 있다. 이를 통해 클라이언트가 사전에 구현해야하는 기능의 수를 줄여 간소화시킬 수 있다.

### REST에서 지원하는 HTTP 메서드는 무엇입니까?

     GET - 웹사이트 및 API에서 가장 광범위하게 사용되는 방법인 GET은 특정 데이터 서버에서 리소스를 수신합니다.
     
     POST - (신규 자료 등록) POST 메서드를 통해 리소스를 업데이트하기 위해 데이터가 API 서버로 전송됩니다. 
     서버가 데이터를 수신하면 HTTP 요청 본문에 저장합니다.
     
     PUT - (신규 자료의 수정 혹은 등록) 리소스를 생성하고 업데이트하기 위해 API에 데이터를 보냅니다.
     
     DELETE - 이름에서 알 수 있듯이 이 메서드는 특정 URL의 리소스를 삭제하는 데 사용됩니다.
     
     PATCH - 간혹 PUT 방식 대용으로 사용

### PUT과 POST의 차이점은 무엇입니까?

     PUT - 제공된(균일한 리소스 식별자) URI에서 파일 또는 리소스를 정확하고 구체적으로 식별합니다. 
     PUT은 기존 파일이 URI(Uniform Resource Identifier)에 있는 경우 기존 파일을 변경합니다. 
     PUT는 파일이 이미 존재하는 경우 파일을 형성합니다. 
     또한 PUT은 멱등성이기 때문에 파일이 사용되는 빈도에는 영향을 미치지 않습니다.
     
     POST - 데이터를 고유한 균일 리소스 식별자(URI)로 보내고 거기에 있는 리소스 파일이 수요를 관리할 것으로 예상합니다. 
     이 순간 웹사이트 서버는 선택한 파일의 컨텍스트에서 데이터로 수행할 수 있는 작업을 결정할 수 있습니다. 
     또한 POST 전략은 멱등성이 아니므로 두 번 이상 사용하면 새 파일 생성이 재개됩니다.
     
*멱등성: 동일한 요청을 한 번 보내는 것과 여러 번 연속으로 보내는 것이 같은 효과를 지니고, 서버의 상태도 동일하게 남을 때, 해당 HTTP 메서드가 멱등성을 가졌다고 말한다.

### URI 란 무엇입니까?

     URI(Uniform Resource Identifier)를 URI라고 합니다. 
     REST의 URI는 웹 서버의 리소스를 지정하는 문자열입니다. 
     각 리소스에는 HTTP 요청에서 사용될 때 클라이언트가 이를 대상으로 지정하고 작업을 수행할 수 있도록 하는 고유한 URI가 있습니다. 
     주소 지정은 URI를 사용하여 리소스로 트래픽을 보내는 프로세스입니다.
     URI의 하위개념으로 URL, URN 이 있다
     
![image](https://user-images.githubusercontent.com/62506973/210305527-b16bdc0a-1d51-42a5-9a27-95275add7335.png)

![image](https://user-images.githubusercontent.com/62506973/210305580-b58156c2-bcd1-48f6-a18d-48b6b4f56509.png)

예를 들어 http://opentutorials.org:3000/main?id=HTML&page=12 라고 되어있는 주소가 있다.

여기서 http://opentutorials.org:3000/main 여기까지는 URL이고(URI이기도 한)
http://opentutorials.org:3000/main?id=HTML&page=12 이 것은 URI라고 할 수 있다. (URL은 아닌)

이유는 URL은 자원의 위치를 나타내 주는 것이고 URI는 자원의 식별자인데
?id=HTML&page=12 이 부분은 위치를 나타내는 것이 아니라 id값이 HTML이고 page가 12인 것을 나타내주는 식별하는 부분이기 때문이다.

통상적으로 URL이라고 얘기를 하지만 정확하게는 URI라고 하는 것이 맞다고 생각한다.

<br>

![image](https://user-images.githubusercontent.com/62506973/210466008-4d4e858d-4a44-4067-8c94-13778c701881.png)

*URN (Uniformed Resource Name)
프로토콜 포함 X
해당 자원의 이름을 의미
독립적인 자원 지시자
Page 이후 부분까지 포함

### RESTful 웹 서비스의 장점과 단점을 알려주실 수 있나요?

     장점:
     - HTTP 프로토콜의 인프라를 그대로 사용하므로 REST API 사용을 위한 별도의 인프라를 구출할 필요가 없다.
     - HTTP 프로토콜의 표준을 최대한 활용하여 여러 추가적인 장점을 함께 가져갈 수 있게 해준다.
     - HTTP 표준 프로토콜에 따르는 모든 플랫폼에서 사용이 가능하다.
     - Hypermedia API의 기본을 충실히 지키면서 범용성을 보장한다.
     - REST API 메시지가 의도하는 바를 명확하게 나타내므로 의도하는 바를 쉽게 파악할 수 있다.
     - 여러가지 서비스 디자인에서 생길 수 있는 문제를 최소화한다.
     - 서버와 클라이언트의 역할을 명확하게 분리한다.
     
<br>

     단점:
     1. 안티패턴으로 설계될 가능성이 높다.
     REST API의 안티패턴이란 REST API의 특징을 이해하지 못하고 REST 사상에 어긋나는 패턴을 적용한 API들을 말합니다.
     틀린 지식이 아닌, 관점이 다른 지식을 사용하여 설계를 진행했기에 안티패턴이 될 가능성이 높습니다.
     ex) GET, POST 메서드만 사용하며 Update, Delete 기능을 POST로 대체하여 사용한 경우
     
     2. 표준 규약이 없다.
     표준이 없다 보니 성공적인 REST API 사례를 근거로 암묵적인 규칙이 생기기도 한다.
     Google, Netflix, Amazone 등의 기업들이 REST의 표준역할을 하고 있습니다. 
     그렇다 보니 실제 REST API를 설계하는 담당자도 현 정책의 판단의 기준을 자의적으로 할 수밖에 없으며 더 안티패턴의 형태로 발전하는 경향이 있습니다.
     
<br>

## 주요 REST API 인터뷰 질문 (책 내용 x)

### 마이크로서비스 아키텍처는 어떻게 작동합니까?

