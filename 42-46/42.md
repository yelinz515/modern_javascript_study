## 42장

### 동기와 비동기 개념에 대해 설명해주세요.

    동기(synchronous)
    정의: ‘특정 코드의 실행이 완료될 때까지 기다리고 난 후 다음 코드를 수행하는 것’
    요청과 그 결과가 동시에 일어난다는 약속이다. 
    요청한 자리에서 결과가 주어져야 하고, 요청을 보낸 후 응답(=결과)를 받아야지만 다음 동작이 이루어지는 방식인 것이다.
    
    특징:
    어떠한 일을 처리할 동안 다른 프로그램은 정지한다.
    실제 cpu가 느려지는 것은 아니지만 시스템의 전체적인 효율이 저하된다고 할 수 있다.

    
![image](https://user-images.githubusercontent.com/62506973/210301570-7f01fe53-c533-43f1-b0e2-0847b516a437.png)

    
    비동기(asynchronous)
    정의:
    ‘특정 코드의 실행이 완료될 때까지 기다리지 않고 다음 코드들을 수행하는 것’
    
    특징:
    - 동기보다 복잡하다.
    - 결과가 주어지는데 시간이 걸리더라도 그 시간 동안 다른 작업을 할 수 있으므로 자원을 효율적으로 사용할 수 있다.
    
    비동기식은 비동기식 처리를 요청할 때 할 일이 끝난 후 처리결과를 알려주는 콜백이라는 함수를 함께 알려준다.
    비동기식 처리를 요청하였을 때 호출받은 함수는 바로 응답(=확인)을 수행한다.
    이 응답은 처리 결과에 대한 응답이 아니라 요청에 대한 확인 동작일 뿐이다.
    호출받은 함수는 처리가 끝나면 요청한 함수를 호출하여 처리 결과를 전달하게 된다.
    이러한 함수 호출의 흐름은 사용자가 아닌 일을 마친 시스템이 호출하는 형태이기 때문에 콜백이라고 불린다.
    이미 응답을 했기 때문에 처리결과를 함수 호출이라는 형태로 전달하는 것이다.

### 비동기 처리 방식

    타이머 함수인 setTimeout과 setInterval, HTTP 요청, 이벤트 핸들러는 비동기 처리 방식으로 동작한다.
    
### event loop에 대해서 설명하세요.(태스크 큐 관련지어 설명)

![image](https://user-images.githubusercontent.com/62506973/210301932-2c8632e3-f8c2-48d0-bd29-432db698680b.png)

    자바스크립트는 싱글스레드 언어이다.
    자바스크립트 엔진은 하나의 call stack을 가지고 있기 때문에 한번에 하나의 동작만을 처리할 수 있기 때문이다. 
    
    그런데 브라우저가 동작하는것을 보면 많은 부분이 동시에 처리 되는 것처럼 느껴진다.

    이와같이 자바스크립트의 동시성을 지원하는 것이 이벤트 루프이다.
    
    브라우저 환경에는 자바스크립트 엔진과 call stack 말고도 web API와 event loop 그리고 task queue가 있어 비동기 처리가 가능하다.
    
    자바스크립트의 코드가 실행되면 비동기 호출에 대한 처리를 브라우저에서 web API로 넘기고 
    동기적인 처리를 call stack에 담아 먼저 처리하게 된다.
    이후에 비동기 호출에 대한 처리가 끝나면 web API는 비동기 호출의 콜백 함수를 task queue에 담게 되고 
    Event Loop는 call stack이 비어있는지 확인하고, 
    call stack이 비어 있다면 task queue에 있는 함수를 call stack으로 넘겨주는 역할을 한다.

Reference

https://youtu.be/8aGhZQkoFbQ

*Web APIs (Timeout, DOM, AJAX)

### Task queue는 callback queue와 같은 개념이다?
결론적으로 callback queue는 브라우저가 가지는 여러 task queue 중 하나일 수 있으나, 확실히 있는 지 없는지는 V8 엔진이나 다른 엔진을 까보기 전에는 확신하지 못한다. (구현체의 실제 내부 명칭이나 기능 또한 다를 수 있다.)
